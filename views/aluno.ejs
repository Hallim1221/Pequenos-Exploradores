<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>√Årea do Aluno</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/aluno.css">
    <link rel="stylesheet" href="/css/premium-aluno.css">
  
  <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
      <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
      <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
    <body>
      <script>
        if (localStorage.getItem('premiumAluno') === 'true') {
          document.body.classList.add('premium-aluno');
        }
      </script>
  </button>
  <section class="top-banner"></section>

  
  <nav class="sidebar-menu" id="sidebarMenu">
    <button class="sidebar-close" onclick="document.getElementById('sidebarMenu').classList.remove('open')">&times;</button>
    <ul>
      <li><a href="/">In√≠cio</a></li>
      <li><a href="/sobre">Sobre</a></li>
      <li><a href="https://www.instagram.com/pequenos_.exploradores_?igsh=MWthZnZ6eG1xeDlxdw==" target="_blank" rel="noopener">Contato</a></li>
      <li><a href="/loja">Loja</a></li>
      <li style="margin:1.2em 0 0 0; padding:0; list-style:none;">
        <form action="/logout" method="POST" style="margin:0; display:flex; justify-content:flex-start; align-items:center;">
          <button type="button" class="btn-logout-sidebar logout-creative" style="margin:0;" onclick="abrirModalLogout()">
            Sair
          </button>
        </form>
      </li>
    </ul>
  </nav>
  <button class="sidebar-toggle" onclick="document.getElementById('sidebarMenu').classList.add('open')" aria-label="Abrir menu lateral" style="background: transparent; border: none; box-shadow: none; position: fixed; top: 0; left: 0.7em; z-index: 11500;">
    <svg width="28" height="28" viewBox="0 0 28 28"><rect y="4" width="28" height="4" rx="2" fill="#fff"/><rect y="12" width="28" height="4" rx="2" fill="#fff"/><rect y="20" width="28" height="4" rx="2" fill="#fff"/></svg>
  </button>
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/index.css">
  
  <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
      <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
      <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
    </svg>
  </button>
  
  <main class="aluno-main">
  <button id="btn-notificacoes" aria-label="Notifica√ß√µes" style="background: none; border: none; position: fixed; top: 3.2em; left: 1.2em; z-index: 12010; cursor: pointer; box-shadow: 0 2px 8px #0076CA33; border-radius: 50%;">
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="16" cy="16" r="16" fill="#0076CA"/>
      <path d="M16 8c-2.8 0-5 2.2-5 5v2.5c0 1.1-0.6 2.1-1.5 2.7-.3.2-.5.6-.5 1v0.3c0 .6.4 1 1 1h14c.6 0 1-.4 1-1v-0.3c0-.4-.2-.8-.5-1-1-.6-1.5-1.6-1.5-2.7V13c0-2.8-2.2-5-5-5zm0 16c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2z" fill="#fff"/>
    </svg>
    <span id="notificacao-badge" style="display:none; position:absolute; top:2px; right:2px; background:#FFD600; color:#0076CA; font-size:0.9em; font-weight:800; border-radius:50%; width:18px; height:18px; display:flex; align-items:center; justify-content:center; border:2px solid #fff;">!</span>
  </button>
  <section class="aluno-atalhos" style="display: flex; gap: 0.7em; justify-content: center; margin-bottom: 1.5em; margin-top: 0.5em;">
    <a href="/aluno" class="atalho-circulo atalho-aluno" title="√Årea do Aluno" style="width: 48px; height: 48px; font-size: 1.7rem; background: #0076CA; color: #fff; border: 2px solid #000;">‚õ∫</a>
    <a href="/quiz" class="atalho-circulo atalho-quiz" title="Quiz" style="width: 48px; height: 48px; font-size: 1.7rem; background: #0076CA; color: #fff; border: 2px solid #000;">üìú</a>
    <a href="/ranking" class="atalho-circulo atalho-ranking" title="Ranking" style="width: 48px; height: 48px; font-size: 1.7rem; background: #0076CA; color: #fff; border: 2px solid #000;">üèÜ</a>
    <a href="/recarga" class="atalho-circulo atalho-recarga" title="Recarga" style="width: 48px; height: 48px; font-size: 1.7rem; background: #0076CA; color: #fff; border: 2px solid #000;">üí≥</a>
    <a href="/natureza" class="atalho-circulo atalho-natureza" title="Explorar Natureza" style="width: 48px; height: 48px; font-size: 1.7rem; background: #0076CA; color: #fff; border: 2px solid #000; display: flex; align-items: center; justify-content: center;">
      <span style="font-size:1.7rem;">üåé</span>
    </a>
  </section>
<!-- Painel lateral de notifica√ß√µes -->
<section id="painel-notificacoes" style="display:none; position:fixed; top:0; right:0; width:320px; max-width:90vw; height:100vh; background:#fff; box-shadow:-4px 0 24px #0076CA33; z-index:13000; padding:1.5em 1.2em 1.2em 1.2em; overflow-y:auto; transition:transform 0.3s; border-radius: 16px 0 0 16px;">
  <button onclick="document.getElementById('painel-notificacoes').style.display='none'" style="position:absolute; top:1em; right:1em; background:none; border:none; font-size:2em; color:#0076CA; cursor:pointer;">&times;</button>
  <h2 style="color:#0076CA; font-family:'Baloo 2',cursive; font-size:1.2em; font-weight:800; margin-bottom:1em;">Notifica√ß√µes</h2>
  <section style="display:flex; flex-direction:column; gap:1em;">
    <section style="background:#e6f7ee; border-radius:12px; padding:0.8em 1em; box-shadow:0 1px 6px #00CFFF22;">
      <strong style="color:#0076CA;">Novo v√≠deo dispon√≠vel!</strong><br>
      <span style="color:#333;">Assista ao v√≠deo "Como cuidar do planeta" agora mesmo.</span>
      <a href="/videos" style="color:#00CFFF; font-weight:700; margin-left:0.5em;">Ver v√≠deo</a>
    </section>
    <section style="background:#e6f7ee; border-radius:12px; padding:0.8em 1em; box-shadow:0 1px 6px #00CFFF22;">
      <strong style="color:#0076CA;">Novo quiz liberado!</strong><br>
      <span style="color:#333;">Teste seus conhecimentos no novo quiz de Meio Ambiente.</span>
      <a href="/quiz" style="color:#00CFFF; font-weight:700; margin-left:0.5em;">Jogar quiz</a>
    </section>
    <section style="background:#fffbe7; border-radius:12px; padding:0.8em 1em; box-shadow:0 1px 6px #FFD60033;">
      <strong style="color:#FFD600;">Oferta especial!</strong><br>
      <span style="color:#333;">Ganhe 20% de desconto na Loja at√© domingo.</span>
      <a href="/loja" style="color:#0076CA; font-weight:700; margin-left:0.5em;">Aproveitar</a>
    </section>
  </section>
</section>
<script>
  // Abrir painel de notifica√ß√µes
  document.getElementById('btn-notificacoes').onclick = function() {
    document.getElementById('painel-notificacoes').style.display = 'block';
    document.getElementById('notificacao-badge').style.display = 'none';
  };
  // Exemplo: mostrar badge de notifica√ß√£o se houver novidades
  window.addEventListener('DOMContentLoaded', function() {
    var badge = document.getElementById('notificacao-badge');
    if(badge) badge.style.display = 'flex';
  });
</script>
    <!-- Removido bloco duplicado de atalhos -->

      <section style="background: #1ec773; border-radius: 32px; box-shadow: 0 2px 12px #1ec77344; padding: 0.7em 0.7em 0.7em 0.7em; margin-bottom: 1.2em; max-width: 340px; margin-left: auto; margin-right: auto; display: flex; flex-direction: row; gap: 1em; align-items: stretch; min-height: 120px;">
      <!-- Informa√ß√µes √† esquerda -->
      <section class="aluno-info-col">
        <section class="aluno-dados-azul">
          <section class="aluno-info-item" style="color:#fff; text-align:center; margin-bottom:0.5em;">
            <h2 style="color:#fff; margin:0; font-size:1.3em; font-weight:800;">Ol√° <span class="aluno-nome-destaque">Lorena</span>!</h2>
          </section>
          <section class="aluno-info-item" style="color:#fff;"><strong>Escola:</strong> Escola Modelo</section>
          <section class="aluno-info-item" style="color:#fff;"><strong>Turma:</strong> 5¬∫ Ano</section>
          <section class="aluno-info-item" style="color:#fff;"><strong>Ranking:</strong> <span class="aluno-ranking">3¬∫ lugar</span></section>
          <section class="aluno-info-item" style="color:#fff;"><strong>Progresso:</strong> <progress class="aluno-progresso-bar" value="50" max="100"></progress> <span class="aluno-progresso">50/100</span></section>
        </section>
        <section class="aluno-badges">
          <section class="medalhas"></section>
          <section class="moedas"> <span>$500</span> <span class="moeda-icone">ü™ô</span></section>
        </section>
      </section>
      <!-- Avatar √† direita -->
      <section style="flex:1; display: flex; align-items: center; justify-content: center;">
        <section style="display: flex; flex-direction: column; align-items: center; justify-content: flex-start; gap: 0.5em; width: 100%;">
          <section style="background: #fff; border-radius: 18px; box-shadow: 0 2px 12px #0076CA22; padding: 0.5em; display: flex; align-items: flex-start; justify-content: center; min-width: 95px; min-height: 135px; max-width: 150px; max-height: 180px; width: 100%; height: 100%; margin-top: 16px; position:relative;">
            <!-- Coroa (vis√≠vel somente para usu√°rios premium) -->
            <section class="aluno-coroa" style="display:none; position:absolute; top:-34px; left:50%; transform:translateX(0%); width:64px; height:auto; pointer-events:none; z-index:2;">
              <img src="/img/coroa.png" alt="Coroa Premium" style="width:100%; height:auto; display:block;">
            </section>
            <img src="/boneca clarinha.png" alt="Avatar do Aluno" class="aluno-avatar" style="width: 100%; height: 100%; border-radius: 16px; object-fit: cover; box-shadow: 0 2px 8px #0076CA33;">
          </section>
          <button class="btn-editar-perfil" onclick="document.getElementById('avatar-modal').style.display='flex'">Editar</button>
        </section>
      </section>
      </main>

    <!-- Modal de confirma√ß√£o de logout -->
    <section id="modal-logout" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.45); z-index:20000; align-items:center; justify-content:center;">
      <section style="background:linear-gradient(120deg,#fff 80%,#e0f7fa 100%); border-radius:28px; box-shadow:0 8px 32px #00CFFF44; padding:2.2em 2em 1.7em 2em; max-width:340px; width:90vw; text-align:center; position:relative; animation:fadeInUp 0.4s;">
        <h2 style="color:#0076CA; font-family:'Fredoka','Baloo 2',cursive; font-size:1.25em; font-weight:900; margin-bottom:1.2em;">Deseja mesmo sair?</h2>
        <p style="color:#1ec773; font-size:1.08em; font-weight:700; margin-bottom:1.7em;">Voc√™ ser√° desconectado da sua conta.</p>
        <section style="display:flex; gap:1.2em; justify-content:center;">
          <button onclick="confirmarLogout()" style="background:linear-gradient(90deg,#00CFFF 0%,#1ec773 100%); color:#fff; font-weight:900; border:none; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 12px #00CFFF33; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">
            Sim
          </button>
          <button onclick="fecharModalLogout()" style="background:#fff; color:#0076CA; font-weight:900; border:2px solid #00CFFF; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 8px #00CFFF22; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">
            N√£o
          </button>
        </section>
        <button onclick="fecharModalLogout()" style="position:absolute; top:0.7em; right:1em; background:none; border:none; font-size:2em; color:#00CFFF; cursor:pointer;">&times;</button>
      </section>
    </section>
    <script>
      function abrirModalLogout() {
        var modal = document.getElementById('modal-logout');
        if(modal) modal.style.display = 'flex';
      }
      function fecharModalLogout() {
        var modal = document.getElementById('modal-logout');
        if(modal) modal.style.display = 'none';
      }
      function confirmarLogout() {
        fetch('/logout', { method: 'POST' })
          .then(() => { window.location.href = '/'; })
          .catch(() => { window.location.href = '/'; });
      }
    </script>
      
      </section>
    </section>
  
          
      
      <section class="aluno-acoes">
        
        <section style="margin: 0.7em 0; text-align: center;">
          <a href="/premium" style="display: inline-block;">
            <img src="/img/tcc.img/perfil/anuncio.png" alt="An√∫ncio" style="max-width: 320px; width: 100%; border-radius: 16px; box-shadow: 0 4px 18px #0076CA88; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.04)'" onmouseout="this.style.transform='scale(1)'">
          </a>
        </section>
      
      <section class="aluno-destaque">
        <p>Continue explorando para desbloquear novos mundos, ganhar pr√™mios e se tornar um <span class="aluno-explorador">Super Explorador!</span> üöÄ</p>
      </section>
    </section>
  </main>
  
  <section id="avatar-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.55); z-index:12000; align-items:center; justify-content:center;">
    <section style="background:#0076CA; border-radius:24px; padding:2em 1.5em 1.5em 1.5em; max-width:480px; width:95vw; box-shadow:0 8px 32px #0076CA44; text-align:center; position:relative;">
      <button onclick="document.getElementById('avatar-modal').style.display='none'" style="position:absolute; top:1em; right:1em; background:none; border:none; font-size:2em; color:#fff; cursor:pointer;">&times;</button>
      <h2 style="font-family:'Baloo 2',cursive; color:#fff; font-size:1.3em; font-weight:800; margin-bottom:1.2em;">Escolha seu Avatar</h2>
      <section style="display:grid; grid-template-columns:repeat(3,1fr); grid-template-rows:repeat(3,1fr); gap:1.1em; justify-items:center; align-items:center; margin-bottom:1.5em;">
  <img src="/img/tcc.img/animal1.png" alt="Avatar 1" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal2.png" alt="Avatar 2" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal3.png" alt="Avatar 3" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal4.png" alt="Avatar 4" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal5.png" alt="Avatar 5" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal6.png" alt="Avatar 6" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal7.png" alt="Avatar 7" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
  <img src="/img/tcc.img/animal8.png" alt="Avatar 8" class="avatar-option" style="width:74px; height:74px; border-radius:18px; border:3px solid #fff; background:#1ec773; cursor:pointer; transition:transform 0.2s; box-shadow:0 2px 8px #fff8;" onclick="selecionarAvatar(this)">
        <section style="width:74px; height:74px; background:transparent;"></section>
      </section>
      <section style="display:flex; justify-content:center; width:100%; margin-top:0.2em;">
        <a href="/comprar-avatares" style="display:inline-block; background:linear-gradient(90deg,#1ec773 0%,#00CFFF 100%); color:#fff; font-size:1.18em; font-weight:800; border:none; border-radius:14px; padding:0.8em 2.2em; cursor:pointer; box-shadow:0 2px 12px #1ec77355,0 1px 4px #00CFFF33; letter-spacing:0.03em; text-decoration:none; transition:background 0.18s,transform 0.18s; text-shadow:0 2px 8px #0076CA22;">‚ú® Compre mais</a>
      </section>
    </section>
  </section>

  <script>
    function selecionarAvatar(src) {
      // accepts either a string src or the image element (this)
      var selectedSrc = null;
      if (!src) return;
      if (typeof src === 'string') selectedSrc = src;
      else if (src && src.src) selectedSrc = src.src;
      var avatar = document.querySelector('.aluno-avatar');
      if (avatar && selectedSrc) avatar.src = selectedSrc;
      var modal = document.getElementById('avatar-modal');
      if (modal) modal.style.display = 'none';
    }
  </script>
  <script>
    // Mostrar coroa no avatar para usu√°rios premium
    (function showCrownIfPremium(){
      function apply(){
        var isPremium = (localStorage.getItem('premiumAluno') === 'true') || document.body.classList.contains('premium-aluno');
        var coroa = document.querySelector('.aluno-coroa');
        if(coroa) coroa.style.display = isPremium ? 'block' : 'none';
      }
      if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', apply); else apply();
    })();
  </script>
  <script>
    // Replace avatar options with premium avatars when premium is active
    (function(){
      function applyPremiumAvatars(){
        if(localStorage.getItem('premiumAluno') !== 'true') return;
        try{
          var premiumList = [
            '/img/animais premium/imagem.png',
            '/img/animais premium/imagem (1).jpg',
            '/img/animais premium/imagem (2).jpg',
            '/img/animais premium/imagem (5).png',
            '/img/animais premium/imagem (6).png',
            '/img/animais premium/imagem (7).png',
            '/img/animais premium/imagem (8).png',
            '/img/animais premium/imagem (9).png'
          ];
          var avatars = document.querySelectorAll('.avatar-option');
          if(!avatars || avatars.length === 0) return;
          avatars.forEach(function(img, idx){
            var premiumSrc = premiumList[idx % premiumList.length];
            img.src = premiumSrc;
            // keep pointer cursor
            img.style.cursor = 'pointer';
          });
        }catch(e){/* ignore */}
      }
      if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', applyPremiumAvatars);
      else applyPremiumAvatars();
    })();
  </script>
  <%- include('partials/footer') %>
</body>
<script>
  // Garante que o script do modal de logout funcione ap√≥s o DOM estar pronto
  function abrirModalLogout() {
    var modal = document.getElementById('modal-logout');
    if(modal) modal.style.display = 'flex';
  }
  function fecharModalLogout() {
    var modal = document.getElementById('modal-logout');
    if(modal) modal.style.display = 'none';
  }
  function confirmarLogout() {
    fetch('/logout', { method: 'POST' })
      .then(() => { window.location.href = '/'; })
      .catch(() => { window.location.href = '/'; });
  }
</script>
</body>
<p></p>
<p></p>
</html>
