<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ranking</title>
  
  <link rel="stylesheet" href="/css/ranking2.css">
  <link rel="stylesheet" href="/css/btn-voltar.css">
   <link rel="stylesheet" href="/css/premium-aluno.css">
  <link rel="stylesheet" href="/css/index.css">

</head>
<body>
<script>
  if (localStorage.getItem('premiumAluno') === 'true') {
    document.body.classList.add('premium-mode');
  }
</script>
<%- include('partials/header') %>
    
  </section>
  <section class="ranking2-container">
    <section class="ranking2-card">
      <section class="ranking2-title">RANKING</section>    
      <section class="ranking2-medalha">
      <span class="broze">ü•â</span>
      </section>
      <section class="ranking2-faixa">Bronze I</section>
      <section class="ranking2-barra">
        <section class="ranking2-barra-progresso"></section>
        <section class="ranking2-barra-texto">50/100</section>
      </section>
      <button class="ranking2-btn-trofeu">
        <p></p>50<span class="icon-trofeu">üèÜ</span>
      </button>
    </section>
    <section>
      <section class="ranking2-icones">
  <section class="ranking2-icone-circulo medal-modal-trigger" tabindex="0" aria-label="Abrir leaderboard" style="cursor:pointer;"><span class="icon">üèÖ</span></section>
  <section class="ranking2-icone-circulo premios-modal-trigger" tabindex="0" aria-label="Abrir pr√™mios" style="cursor:pointer;"><span class="icon">üèÜ</span></section>
  <!-- Premios Modal (top-level) -->
  <section id="premiosModal" class="premios-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:32000; align-items:center; justify-content:center; padding:1.2em 0;">
    <section id="premiosModalContent" class="premios-modal-content" onclick="event.stopPropagation()">
      <button onclick="fecharPremiosModal()" aria-label="Fechar pr√™mios" class="premios-modal-close">&times;</button>
      <h3 class="premios-modal-title">Pr√™mios</h3>
      <ul class="premios-modal-list">
        <li class="premios-modal-item">
          <span class="premios-modal-emoji">üéØ</span>
          <section class="premios-modal-info">
            <strong class="premios-modal-strong">Acerte 10 perguntas seguidas no Quiz Ambiente</strong>
            <span class="premios-modal-desc">Receba 200 moedas + medalha exclusiva</span>
          </section>
          <section class="premios-modal-badge">200 moedas</section>
        </li>
        <li class="premios-modal-item">
          <span class="premios-modal-emoji">üèÜ</span>
          <section class="premios-modal-info">
            <strong class="premios-modal-strong">Fique no Top 3 do Ranking</strong>
            <span class="premios-modal-desc">Ganhe trof√©u e moedas extras</span>
          </section>
          <section class="premios-modal-badge">Trof√©u</section>
        </li>
      </ul>
      <section class="premios-modal-footer">
        <section onclick="fecharPremiosModal()" class="premios-modal-btn">Fechar</section>
      </section>
    </section>
  </section>
  <style>
    .premios-modal-content {
      background: linear-gradient(180deg,#ffffff 0%,#f3fbff 100%);
      border-radius: 18px;
      width: clamp(280px,82vw,440px);
      max-height: 80vh;
      overflow: auto;
      padding: 1.0em 1.0em 1.2em 1.0em;
      box-shadow: 0 18px 48px rgba(0,0,0,0.28);
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .premios-modal-close {
  position: absolute;
  top: 0.7em;
  right: 0.7em;
  background: none;
  border: none;
  font-size: 2em;
  color: #1a355b;
  cursor: pointer;
    }
    .premios-modal-title {
  color: #1a355b;
      font-size: 1.5em;
      font-weight: 900;
      margin-bottom: 0.7em;
    }
    .premios-modal-list {
      list-style: none;
      padding: 0;
      margin: 0;
      width: 100%;
      max-width: 340px;
    }
    .premios-modal-item {
      background: linear-gradient(90deg,#e3e3e3 60%,#f3fbff 100%);
      border-radius: 18px;
      box-shadow: 0 2px 10px #e3e3e333;
      margin-bottom: 0.7em;
      padding: 0.7em 1em;
      display: flex;
      align-items: center;
      gap: 1em;
      font-size: 1em;
      border: 2px solid #e3e3e3;
      color: #444;
      font-weight: 700;
    }
    .premios-modal-emoji {
      font-size: 1.4em;
      line-height: 1;
    }
    .premios-modal-info {
      flex: 1;
    }
    .premios-modal-strong {
      display: block;
      color: #444;
      font-weight: 900;
      margin-bottom: 0.12em;
    }
    .premios-modal-desc {
  color: #1a355b;
      font-size: 0.95em;
    }
    .premios-modal-badge {
  background: #1a355b;
  color: #fff;
      padding: 0.35em 0.7em;
      border-radius: 12px;
      font-weight: 900;
    }
    .premios-modal-footer {
      display: flex;
      justify-content: center;
      margin-top: 1em;
    }
    .premios-modal-btn {
  background: linear-gradient(90deg,#1a355b 0%,#3b5b8c 100%);
  color: #fff;
      padding: 0.7em 1.4em;
      border-radius: 16px;
      font-weight: 900;
      cursor: pointer;
    }
    /* Premium mode overrides */
    .premium-mode .premios-modal-content {
      background: linear-gradient(135deg, #a259e6 0%, #6c2eb7 60%, #3d1466 100%) !important;
      color: #e6d6fa !important;
    }
    .premium-mode .premios-modal-title {
      color: #e6d6fa !important;
    }
    .premium-mode .premios-modal-item {
      background: linear-gradient(90deg,#a259e6 60%,#6c2eb7 100%) !important;
      border: 2px solid #a259e6 !important;
      color: #fff !important;
      box-shadow: 0 2px 10px #a259e633 !important;
    }
    .premium-mode .premios-modal-strong {
      color: #fff !important;
    }
    .premium-mode .premios-modal-desc {
      color: #e6d6fa !important;
    }
    .premium-mode .premios-modal-badge {
      background: #fff !important;
      color: #a259e6 !important;
    }
    .premium-mode .premios-modal-btn {
      background: linear-gradient(90deg,#a259e6 0%,#6c2eb7 100%) !important;
      color: #fff !important;
    }
    .premium-mode .premios-modal-close {
      color: #e6d6fa !important;
    }
  </style>
  <script>
    function abrirPremiosModal() {
      var m = document.getElementById('premiosModal');
      if(!m) { console.warn('premiosModal element not found'); return; }
      m.style.display = 'flex';
      m.style.visibility = 'visible';
      m.style.opacity = '1';
      m.style.zIndex = '99999';
      var c = document.getElementById('premiosModalContent');
      if(c) { c.style.transform = 'translateY(0)'; c.style.opacity = '1'; }
    }
    function fecharPremiosModal() {
      var m = document.getElementById('premiosModal');
      if(!m) return;
      m.style.display = 'none';
    }
    // Bind click to üèÜ
    document.addEventListener('DOMContentLoaded', function() {
      var premiosBtn = document.querySelector('.premios-modal-trigger');
      if(premiosBtn) {
        premiosBtn.addEventListener('click', abrirPremiosModal);
        premiosBtn.addEventListener('keydown', function(e) { if (e.key === 'Enter' || e.key === ' ') abrirPremiosModal(); });
      }
      // Fechar ao clicar fora do modal
      var premiosModal = document.getElementById('premiosModal');
      if(premiosModal) premiosModal.addEventListener('click', function(e) { if (e.target === premiosModal) fecharPremiosModal(); });
    });
  </script>
      </section>
      <section class="ranking2-medalhas-card">
        <section class="ranking2-medalhas-title">Medalhas</section>
        <section class="ranking2-medalhas-list">
          <section class="ranking2-medalha-item">
            <section class="ranking2-medalha-img"><span class="broze1">ü•â</span></section>
            <section class="ranking2-medalha-legenda">Bronze<p>I</p></section>
          </section>
          <section class="ranking2-medalha-item">
            <section class="ranking2-medalha-img locked"><span class="icon-cadeado">üîí</span></section>
            <section class="ranking2-medalha-legenda">Bronze<p>II</p></section>
          </section>
          <section class="ranking2-medalha-item">
            <section class="ranking2-medalha-img locked"><span class="icon-cadeado">üîí</span></section>
            <section class="ranking2-medalha-legenda">Bronze<p>III</p></section>
          </section>
          <section class="ranking2-medalha-item" style="margin-bottom: 0;">
            <section class="ranking2-medalha-img locked"><span class="icon-cadeado">üîí</span></section>
            <section class="ranking2-medalha-legenda">Prata<p>I</p></section>
          </section>
        </section>
      </section>
    </section>
  </section>
  <section class="ranking2-anuncio">
    <img src="/img/tcc.img/perfil/anuncio.png" alt="An√∫ncio Ranking">
  </section>
  <!-- Modal Leaderboard -->
  <section id="leaderboard-overlay" class="leaderboard-overlay" style="display:none;">
    <section class="leaderboard-modal" role="dialog" aria-modal="true" tabindex="-1">
      <section class="leaderboard-header">
        <span class="leaderboard-title">RANKING</span>
        
      </section>
      <section class="leaderboard-filters">
       
       
        
      </section>
      <section class="leaderboard-podium">
        <section class="podium-second">
          <section class="podium-avatar"><img src="/img/animal1.png" alt="Animal 1"/></section>
          <section class="podium-name">Lucas</section>
          <section class="podium-score">8450</section>
        </section>
        <section class="podium-first">
          <section class="podium-avatar"><img src="/img/animais premium/imagem (10).png" alt="Animal 2"/></section>
          <section class="podium-name">Neymar <img src="/img/coroa.png" alt="Coroa" class="coroa-mini"></section>
          <section class="podium-score">9765</section>
        </section>
        <section class="podium-third">
          <section class="podium-avatar"><img src="/img/animais premium/imagem (11).png" alt="Animal 3"/></section>
          <section class="podium-name">Agnaldo</section>
          <section class="podium-score">7990</section>
        </section>
      </section>
      <section class="leaderboard-list">
        <section class="leaderboard-card">
          <section class="card-pos">4¬∫</section>
          <section class="card-avatar"><img src="/img/animais premium/imagem (5).png" alt="Animal 4"/></section>
          <section class="card-name">Gabriella</section>
          <section class="card-score">5743 pts</section>
        </section>
        <section class="leaderboard-card">
          <section class="card-pos">5¬∫</section>
          <section class="card-avatar"><img src="/img/animais premium/imagem (6).png" alt="Animal 5"/></section>
          <section class="card-name">Antonieta</section>
          <section class="card-score">5320 pts</section>
        </section>
        <section class="leaderboard-card">
          <section class="card-pos">6¬∫</section>
          <section class="card-avatar"><img src="/img/animais premium/imagem (7).png" alt="Animal 6"/></section>
          <section class="card-name">Jo√£o</section>
            <section class="card-score">4980 pts</section>
            <style>
              .coroa-mini {
                width: 18px;
                height: 18px;
                vertical-align: middle;
                margin-left: 4px;
                position: relative;
                top: -3px;
              }
            </style>
            <script>
              // Adiciona coroa ao lado do nome Jo√£o
              document.addEventListener('DOMContentLoaded', function() {
                var joaoName = document.querySelectorAll('.card-name');
                joaoName.forEach(function(el) {
                  if (el.textContent.trim() === 'Jo√£o') {
                    var img = document.createElement('img');
                    img.src = '/img/coroa.png';
                    img.alt = 'Coroa';
                    img.className = 'coroa-mini';
                    el.appendChild(img);
                  }
                });
              });
            </script>
        </section>
      </section>
    </section>
  </section>
  <script>
    // Modal open/close logic
    const medalTrigger = document.querySelector('.medal-modal-trigger');
    const overlay = document.getElementById('leaderboard-overlay');
    const modal = overlay && overlay.querySelector('.leaderboard-modal');
    const closeBtn = overlay && overlay.querySelector('.leaderboard-close');
    function openModal() {
      overlay.style.display = 'flex';
      setTimeout(() => overlay.classList.add('show'), 10);
      document.body.style.overflow = 'hidden';
      modal.focus();
    }
    function closeModal() {
      overlay.classList.remove('show');
      setTimeout(() => {
        overlay.style.display = 'none';
        document.body.style.overflow = '';
      }, 250);
    }
    if (medalTrigger) {
      medalTrigger.addEventListener('click', openModal);
      medalTrigger.addEventListener('keydown', function(e) { if (e.key === 'Enter' || e.key === ' ') openModal(); });
    }
    if (closeBtn) closeBtn.addEventListener('click', closeModal);
    if (overlay) overlay.addEventListener('click', function(e) { if (e.target === overlay) closeModal(); });
    // Accessibility: ESC to close
    document.addEventListener('keydown', function(e) { if (overlay.style.display === 'flex' && e.key === 'Escape') closeModal(); });
  </script>
  <!-- Rodap√© reutiliz√°vel -->
<footer style="background: #76e13e; color: #fff; width: 100%; text-align: center; padding: 0.7em 0; font-size: 1em; border-top-left-radius: 18px; border-top-right-radius: 18px; box-shadow: 0 -2px 12px #76e13e44;">
  &copy; 2025 Pequenos Exploradores
</footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const medalTrigger = document.querySelector('.medal-modal-trigger');
      const overlay = document.getElementById('leaderboard-overlay');
      const modal = overlay && overlay.querySelector('.leaderboard-modal');
      const closeBtn = overlay && overlay.querySelector('.leaderboard-close');
      function openModal() {
        overlay.style.display = 'flex';
        setTimeout(() => overlay.classList.add('show'), 10);
        document.body.style.overflow = 'hidden';
        modal.focus();
      }
      function closeModal() {
        overlay.classList.remove('show');
        setTimeout(() => {
          overlay.style.display = 'none';
          document.body.style.overflow = '';
        }, 250);
      }
      if (medalTrigger) {
        medalTrigger.addEventListener('click', openModal);
        medalTrigger.addEventListener('keydown', function(e) { if (e.key === 'Enter' || e.key === ' ') openModal(); });
      }
      if (closeBtn) closeBtn.addEventListener('click', closeModal);
      if (overlay) overlay.addEventListener('click', function(e) { if (e.target === overlay) closeModal(); });
      document.addEventListener('keydown', function(e) { if (overlay.style.display === 'flex' && e.key === 'Escape') closeModal(); });
    });
  </script>
</body>
</html>
