<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/aluno.css">
  <link rel="stylesheet" href="/css/ranking.css">
  <title>Ranking - Pequenos Exploradores</title>
</head>
<body>
  <!-- Cabeçalho e Menu Inicial igual ao da página inicial -->
  <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
      <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
      <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
    </svg>
  </button>
  <section class="top-banner"></section>

  <!-- Sidebar Menu -->
  <nav class="sidebar-menu" id="sidebarMenu">
    <button class="sidebar-close" onclick="document.getElementById('sidebarMenu').classList.remove('open')">&times;</button>
    <ul>
      <li><a href="/">Início</a></li>
      <li><a href="/sobre">Sobre</a></li>
      <li><a href="https://www.instagram.com/pequenos_.exploradores_?igsh=MWthZnZ6eG1xeDlxdw==" target="_blank" rel="noopener">Contato</a></li>
      <li><a href="/loja">Loja</a></li>
      <li style="margin:1.2em 0 0 0; padding:0; list-style:none;">
        <form action="/logout" method="POST" style="margin:0; display:flex; justify-content:flex-start; align-items:center;">
          <button type="button" class="btn-logout-sidebar logout-creative" style="margin:0;" onclick="abrirModalLogout()">Sair</button>
        </form>
      </li>
    </ul>
  </nav>
  <button class="sidebar-toggle" onclick="document.getElementById('sidebarMenu').classList.add('open')" aria-label="Abrir menu lateral" style="background: transparent; border: none; box-shadow: none; position: fixed; top: 0; left: 0.7em; z-index: 11500;">
    <svg width="28" height="28" viewBox="0 0 28 28"><rect y="4" width="28" height="4" rx="2" fill="#fff"/><rect y="12" width="28" height="4" rx="2" fill="#fff"/><rect y="20" width="28" height="4" rx="2" fill="#fff"/></svg>
  </button>
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/index.css">
  <section style="height: 48px;"></div>
  <main class="ranking-novo ranking-centralizado">
    <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
      <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
        <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
        <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
      </svg>
    </button>
    <section class="ranking-header">
      <h1 style="color:#0076CA; font-family: 'Baloo 2', cursive; font-size: 2.5em; letter-spacing: 2px; text-shadow: 0 2px 12px #00CFFF88, 0 1px 0 #fff; display: flex; align-items: center; justify-content: center; gap: 0.3em;">
        <span style="font-size:1.3em;">🏆</span>
        <span>Ranking dos <span style="color:#1ec773; text-shadow: 0 1px 8px #1ec77355; font-weight: bold;">Exploradores</span></span>
        <span style="font-size:1.1em;">🌟</span>
      </h1>
      <button class="btn-circular-podio-animada" onclick="abrirRankingModal()" title="Ver Ranking" aria-label="Ver Ranking">
        <span class="emoji-podio">🏆</span>
      </button>
    </section>
    <!-- Esquema de Patente estilo Free Fire -->
    <section class="patente-info" style="background: linear-gradient(135deg,#e0ffe7 60%,#b2f7ef 100%); border-radius: 18px; box-shadow: 0 2px 16px #1ec77333; padding: 1.2em 1em 1em 1em; margin: 1.2em auto 1.5em auto; max-width: 420px; border: 2px solid #3bb27344;">
      <h2 style="color:#0076CA; font-family: 'Baloo 2', cursive; font-size: 2em; letter-spacing: 1px; text-shadow: 0 2px 10px #00CFFF55; display: flex; align-items: center; gap: 0.3em; justify-content: center;">
        <span style="font-size:1.2em;">💎</span>
        Sua Patente
        <span style="font-size:1.1em;">🌟</span>
      </h2>
      <section class="patente-barra" style="display: flex; gap: 0.7em; justify-content: center; margin: 1em 0 0.7em 0;">
        <span class="patente-nivel bronze" style="color:#8bc34a; font-size:1.2em; background:#fff; border-radius:10px; padding:0.2em 0.7em; box-shadow:0 1px 6px #8bc34a33;">🥉</span>
        <span class="patente-nivel prata" style="color:#8bc34a; font-size:1.2em; background:#fff; border-radius:10px; padding:0.2em 0.7em; box-shadow:0 1px 6px #8bc34a33;">🥈</span>
        <span class="patente-nivel ouro" style="color:#8bc34a; font-size:1.2em; background:#fff; border-radius:10px; padding:0.2em 0.7em; box-shadow:0 1px 6px #8bc34a33;">🥇</span>
        <span class="patente-nivel platina" style="color:#8bc34a; font-size:1.2em; background:#fff; border-radius:10px; padding:0.2em 0.7em; box-shadow:0 1px 6px #8bc34a33;">💎</span>
        
      </section>
      <section class="patente-progresso" style="margin: 1em 0 0.7em 0;">
        <section class="patente-progresso-barra" style="width: 100%; height: 18px; border-radius: 9px; background: linear-gradient(90deg, #b2bec3 0%, #00CFFF 100%); box-shadow: 0 1px 8px #00CFFF33; position: relative;">
          <span style="position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); color: #0076CA; font-weight: bold; font-size: 1em;">Diamante</span>
        </section>
      </section>
      <p class="patente-descricao" style="color:#388e3c; font-size:1.1em; text-align:center; margin-top:0.7em;">Você está no nível <strong style="color:#0076CA; text-shadow:0 1px 8px #00CFFF55;">Diamante</strong>! Complete quizzes e desafios para manter sua patente.</p>
    </section>
    <section class="anuncio-ranking" style="margin-top: -1.2em;">
      <a href="/premium" style="display:inline-block;">
        <img src="/img/tcc.img/perfil/anuncio.png" alt="Anúncio" class="anuncio-img" style="cursor:pointer; transition:transform 0.18s; border-radius:16px; box-shadow:0 4px 18px #0076CA88;" onmouseover="this.style.transform='scale(1.04)'" onmouseout="this.style.transform='scale(1)'">
      </a>
    </section>
  </main>

  <!-- Modal do Ranking -->
  <section id="rankingModal" class="ranking-modal">
    <section class="ranking-modal-content">
      <button class="ranking-modal-close" onclick="fecharRankingModal()" aria-label="Fechar ranking">&times;</button>
      <h2 class="ranking-modal-title" style="color:#3bb273;">Ranking dos 10 Melhores</h2>
      <section class="ranking-podio-modal">
        <section class="podio-modal segundo">
          <span class="medalha">🥈</span>
          <img src="/img/tcc.img/animal2.png" alt="Animal do Lucas" class="animal-ranking-img">
          <span class="nome" style="color:#388e3c;">Lucas</span>
          <span class="pontos" style="color:#388e3c;">120 pts</span>
        </section>
        <section class="podio-modal primeiro">
          <span class="medalha">🥇</span>
          <img src="/img/tcc.img/animal1.png" alt="Animal da Ana" class="animal-ranking-img">
          <span class="nome" style="color:#388e3c;">Ana</span>
          <span class="pontos" style="color:#388e3c;">150 pts</span>
        </section>
        <section class="podio-modal terceiro">
          <span class="medalha">🥉</span>
          <img src="/img/tcc.img/animal3.png" alt="Animal do João" class="animal-ranking-img">
          <span class="nome" style="color:#388e3c;">João</span>
          <span class="pontos" style="color:#388e3c;">100 pts</span>
        </section>
      </section>
      <ul class="ranking-lista-modal">
  <li><span class="pos" style="color:#388e3c;">4º</span> <img src="/img/tcc.img/animal4.png" alt="Animal da Maria" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Maria</span> <span class="pontos" style="color:#388e3c;">80 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">5º</span> <img src="/img/tcc.img/animal5.png" alt="Animal do Pedro" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Pedro</span> <span class="pontos" style="color:#388e3c;">60 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">6º</span> <img src="/img/tcc.img/animal6.png" alt="Animal da Clara" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Clara</span> <span class="pontos" style="color:#388e3c;">55 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">7º</span> <img src="/img/tcc.img/animal7.png" alt="Animal do Felipe" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Felipe</span> <span class="pontos" style="color:#388e3c;">50 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">8º</span> <img src="/img/tcc.img/animal8.png" alt="Animal da Gabriela" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Gabriela</span> <span class="pontos" style="color:#388e3c;">45 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">9º</span> <img src="/img/tcc.img/animal1.png" alt="Animal da Rafaela" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Rafaela</span> <span class="pontos" style="color:#388e3c;">40 pts</span></li>
  <li><span class="pos" style="color:#388e3c;">10º</span> <img src="/img/tcc.img/animal2.png" alt="Animal do Bruno" class="animal-ranking-img"> <span class="nome" style="color:#388e3c;">Bruno</span> <span class="pontos" style="color:#388e3c;">35 pts</span></li>
  <style>
    .animal-ranking-img {
      width: 32px;
      height: 32px;
      object-fit: contain;
      border-radius: 50%;
      margin-right: 0.5em;
      vertical-align: middle;
      box-shadow: 0 2px 8px #00CFFF33;
    }
    .btn-circular-podio-animada {
      background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      box-shadow: 0 4px 18px #38f9d766, 0 0 0 4px #fff;
      cursor: pointer;
      margin-top: 8px;
      margin-bottom: 8px;
      transition: box-shadow 0.25s, transform 0.18s, background 0.2s;
      animation: pulse-podio 1.2s infinite alternate;
      outline: none;
      border: 3px solid #3bb27344;
    }
    .btn-circular-podio-animada:hover, .btn-circular-podio-animada:focus {
      background: linear-gradient(135deg, #3bb273 0%, #8bc34a 100%);
      box-shadow: 0 8px 32px #43e97b99, 0 0 0 8px #fff;
      transform: scale(1.08) rotate(-2deg);
    }
    @keyframes pulse-podio {
      0% { box-shadow: 0 4px 18px #38f9d766, 0 0 0 4px #fff; }
      100% { box-shadow: 0 12px 36px #43e97b99, 0 0 0 8px #fff; }
    }
    .emoji-podio {
      filter: drop-shadow(0 2px 8px #43e97b66);
      font-size: 1.3em;
      transition: transform 0.18s;
    }
    .btn-circular-podio-animada:hover .emoji-podio,
    .btn-circular-podio-animada:focus .emoji-podio {
      transform: scale(1.15) rotate(-8deg);
    }
  </style>
      </ul>
    </section>
  </section>

  <script>
    function abrirRankingModal() {
      document.getElementById('rankingModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
    function fecharRankingModal() {
      document.getElementById('rankingModal').style.display = 'none';
      document.body.style.overflow = '';
    }
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') fecharRankingModal();
    });
  </script>
  <%- include('partials/footer') %>
</body>
</body>
<!-- Modal de confirmação de logout -->
<div id="modal-logout" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.45); z-index:20000; align-items:center; justify-content:center;">
  <div style="background:linear-gradient(120deg,#fff 80%,#e0f7fa 100%); border-radius:28px; box-shadow:0 8px 32px #00CFFF44; padding:2.2em 2em 1.7em 2em; max-width:340px; width:90vw; text-align:center; position:relative; animation:fadeInUp 0.4s;">
    <h2 style="color:#0076CA; font-family:'Fredoka','Baloo 2',cursive; font-size:1.25em; font-weight:900; margin-bottom:1.2em;">Deseja mesmo sair?</h2>
    <p style="color:#1ec773; font-size:1.08em; font-weight:700; margin-bottom:1.7em;">Você será desconectado da sua conta.</p>
    <div style="display:flex; gap:1.2em; justify-content:center;">
      <button onclick="confirmarLogout()" style="background:linear-gradient(90deg,#00CFFF 0%,#1ec773 100%); color:#fff; font-weight:900; border:none; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 12px #00CFFF33; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">Sim</button>
      <button onclick="fecharModalLogout()" style="background:#fff; color:#0076CA; font-weight:900; border:2px solid #00CFFF; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 8px #00CFFF22; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">Não</button>
    </div>
    <button onclick="fecharModalLogout()" style="position:absolute; top:0.7em; right:1em; background:none; border:none; font-size:2em; color:#00CFFF; cursor:pointer;">&times;</button>
  </div>
</div>
<script>
  function abrirModalLogout() {
    var modal = document.getElementById('modal-logout');
    if(modal) modal.style.display = 'flex';
  }
  function fecharModalLogout() {
    var modal = document.getElementById('modal-logout');
    if(modal) modal.style.display = 'none';
  }
  function confirmarLogout() {
    fetch('/logout', { method: 'POST' })
      .then(() => { window.location.href = '/'; })
      .catch(() => { window.location.href = '/'; });
  }
</script>

