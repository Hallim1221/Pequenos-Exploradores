<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ranking - Pequenos Exploradores</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/aluno.css">
  <link rel="stylesheet" href="/css/premium-aluno.css">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/ranking.css">
</head>
<body>
  <!-- Bot√£o de Trof√©u Dourado para abrir ranking -->
  
  <!-- Painel de Ranking animado -->
  <section id="painel-ranking" style="display:none;position:fixed;left:0;right:0;bottom:0;z-index:11999;justify-content:center;align-items:flex-end;">
  <section id="painel-ranking-content" style="background:#fff;border-radius:22px 22px 0 0;box-shadow:0 -4px 32px #00CFFF33;width:100vw;max-width:480px;margin:0 auto;position:relative;transform:translateY(100%);transition:transform 0.45s cubic-bezier(.4,1.3,.5,1);padding:2.2em 0 3.2em 0;">
      <section style="text-align:center;margin-bottom:0.7em;">
        <span style="font-family:'Baloo 2',cursive;font-size:1.35em;font-weight:900;color:#3bb273;">Ranking</span>
      </section>
      <section style="display:flex;justify-content:center;gap:0.04em;margin-bottom:0.4em;scale:0.22;">
        <button class="ranking-filtro-btn selected filtro-mini" style="font-size:0.32em !important;padding:0.07em 0.32em !important;min-width:16px !important;min-height:8px !important;line-height:1 !important;height:18px !important;width:38px !important;" onclick="trocarFiltroRanking('geral')">Geral</button>
        <button class="ranking-filtro-btn filtro-mini" style="font-size:0.32em !important;padding:0.07em 0.32em !important;min-width:16px !important;min-height:8px !important;line-height:1 !important;height:18px !important;width:38px !important;" onclick="trocarFiltroRanking('escola')">Escola</button>
        <button class="ranking-filtro-btn filtro-mini" style="font-size:0.32em !important;padding:0.07em 0.32em !important;min-width:16px !important;min-height:8px !important;line-height:1 !important;height:18px !important;width:38px !important;" onclick="trocarFiltroRanking('sala')">Sala</button>
      </section>
      <!-- Top 3 -->
      <section style="display:flex;justify-content:center;align-items:flex-end;gap:0.7em;margin-bottom:1.2em;">
  <section class="top3-card" style="order:2;background:#fff;box-shadow:0 2px 12px #bbb3;min-width:100px;max-width:120px;width:120px;height:180px;border-radius:22px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;overflow:hidden;position:relative;">
          <span style="position:absolute;top:8px;left:0;right:0;text-align:center;font-size:0.82em;font-weight:900;color:#bdbdbd;">2</span>
          <section style="margin-top:28px;margin-bottom:8px;width:44px;height:44px;overflow:hidden;border-radius:50%;background:#eee;display:flex;align-items:center;justify-content:center;">
            <img src="/img/tcc.img/animal2.png" alt="2¬∫" style="width:44px;height:44px;object-fit:cover;">
          </section>
          <span style="font-size:0.89em;font-weight:700;max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;">Lucas</span>
          <section style="margin-top:7px;width:100%;height:15px;background:linear-gradient(90deg,#e0e0e0 60%,#bdbdbd 100%);display:flex;align-items:center;justify-content:center;">
            <span style="font-size:0.97em;">ü•à</span>
          </section>
        </section>
  <section class="top3-card" style="order:1;background:#fff;box-shadow:0 2px 12px #FFD60055;min-width:120px;max-width:140px;width:140px;height:210px;border-radius:22px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;overflow:hidden;position:relative;">
          <span style="position:absolute;top:8px;left:0;right:0;text-align:center;font-size:0.92em;font-weight:900;color:#FFD600;">1</span>
          <section style="margin-top:18px;margin-bottom:8px;width:52px;height:52px;overflow:hidden;border-radius:50%;background:#fffde7;display:flex;align-items:center;justify-content:center;">
            <img src="/img/tcc.img/animal1.png" alt="1¬∫" style="width:52px;height:52px;object-fit:cover;">
          </section>
          <span style="font-size:0.97em;font-weight:900;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;">Ana</span>
          <section style="margin-top:7px;width:100%;height:18px;background:linear-gradient(90deg,#FFD600 60%,#FFB300 100%);display:flex;align-items:center;justify-content:center;">
            <span style="font-size:1.05em;">ü•á</span>
          </section>
        </section>
  <section class="top3-card" style="order:3;background:#fff;box-shadow:0 2px 12px #b97a1a55;min-width:100px;max-width:120px;width:120px;height:180px;border-radius:22px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;overflow:hidden;position:relative;">
          <span style="position:absolute;top:8px;left:0;right:0;text-align:center;font-size:0.82em;font-weight:900;color:#b97a1a;">3</span>
          <section style="margin-top:28px;margin-bottom:8px;width:44px;height:44px;overflow:hidden;border-radius:50%;background:#fff3e0;display:flex;align-items:center;justify-content:center;">
            <img src="/img/tcc.img/animal3.png" alt="3¬∫" style="width:44px;height:44px;object-fit:cover;">
          </section>
          <span style="font-size:0.89em;font-weight:700;max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;">Jo√£o</span>
          <section style="margin-top:7px;width:100%;height:15px;background:linear-gradient(90deg,#ffecb3 60%,#b97a1a 100%);display:flex;align-items:center;justify-content:center;">
            <span style="font-size:0.97em;">ü•â</span>
          </section>
        </section>
      </section>
      <!-- Lista dos outros jogadores -->
      <section style="margin:0 auto;max-width:340px;width:96vw;">
        <section id="ranking-lista">
          <!-- Exemplo de linha -->
          <section class="ranking-lista-item" style="display:flex;align-items:center;gap:0.7em;padding:0.5em 0.3em;border-bottom:1px solid #e0e0e0;min-height:44px;max-height:44px;overflow:hidden;">
            <span style="width:32px;text-align:center;font-weight:700;color:#bbb;">4</span>
            <section style="width:36px;height:36px;overflow:hidden;border-radius:50%;background:#eee;display:flex;align-items:center;justify-content:center;">
              <img src="/img/tcc.img/animal4.png" alt="4¬∫" style="width:36px;height:36px;object-fit:cover;">
            </section>
            <span style="font-size:1em;font-weight:700;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;">Maria</span>
            <span style="margin-left:auto;font-size:1em;font-weight:700;color:#3bb273;">13.200</span>
            <span style="font-size:1.1em;">üèÜ</span>
          </section>
          <!-- Repita para outros jogadores -->
        </section>
      </section>
    </section>
  </section>
  <script>
    // Anima√ß√£o de slide-up/slide-down do painel de ranking
    const btnRanking = document.getElementById('btn-abrir-ranking');
    const painelRanking = document.getElementById('painel-ranking');
    const painelRankingContent = document.getElementById('painel-ranking-content');
    let rankingAberto = false;
    btnRanking.onclick = function() {
      if (!rankingAberto) {
        painelRanking.style.display = 'flex';
        setTimeout(()=>{ painelRankingContent.style.transform = 'translateY(0)'; }, 10);
        rankingAberto = true;
      } else {
        painelRankingContent.style.transform = 'translateY(100%)';
        setTimeout(()=>{ painelRanking.style.display = 'none'; }, 450);
        rankingAberto = false;
      }
    };
    // Filtros (apenas visual, l√≥gica pode ser expandida)
    function trocarFiltroRanking(filtro) {
      document.querySelectorAll('.ranking-filtro-btn').forEach(btn=>btn.classList.remove('selected'));
      if(filtro==='geral') document.querySelectorAll('.ranking-filtro-btn')[0].classList.add('selected');
      if(filtro==='escola') document.querySelectorAll('.ranking-filtro-btn')[1].classList.add('selected');
      if(filtro==='sala') document.querySelectorAll('.ranking-filtro-btn')[2].classList.add('selected');
      // Aqui voc√™ pode trocar os dados do ranking conforme o filtro
    }
  </script>
  <style>
    .top3-card {
      overflow: hidden !important;
      position: relative;
    }
    .top3-card > section,
    .top3-card img,
    .top3-card span {
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      display: block;
    }
    .top3-card img {
      width: 100% !important;
      height: auto !important;
      max-height: 100%;
      object-fit: cover;
      border-radius: 50%;
      background: #eee;
    }
    .ranking-lista-item {
      overflow: hidden;
    }
    .ranking-lista-item > span,
    .ranking-lista-item > section {
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      box-sizing: border-box;
      display: block;
    }
    .ranking-filtro-btn {
      background:#fff;
      border:2px solid #3bb273;
      color:#3bb273;
      font-weight:700;
      font-size:1em;
      border-radius:12px;
      padding:0.4em 1.2em;
      cursor:pointer;
      transition:background 0.18s, color 0.18s, border 0.18s;
    }
    .filtro-mini {
      font-size:0.32em !important;
      padding:0.07em 0.32em !important;
      min-width:16px !important;
      min-height:8px !important;
      line-height:1 !important;
      height:18px !important;
      width:38px !important;
    }
    .ranking-filtro-btn.selected, .ranking-filtro-btn:focus {
      background:#3bb273;
      color:#fff;
      border-color:#3bb273;
    }
    .top3-card span, .ranking-lista-item span {
      font-family:'Fredoka','Baloo 2',Arial,sans-serif;
    }
  /* garantir que o t√≠tulo Top 10 fique branco em todos os modos */
  .ranking-modal-title { color: #fff !important; }
    @media (max-width: 600px) {
      #painel-ranking-content { max-width:98vw; }
      .top3-card { min-width:64px !important; max-width:70px !important; width:70px !important; height:120px !important; }
      .top3-card img { width:38px !important; height:38px !important; }
      .ranking-lista-item { min-height:36px !important; max-height:36px !important; }
    }
    body {
      background: #fff !important;
    }
  </style>
  <script>
    // S√≥ exibe a aba de amigos se for premium
    document.addEventListener('DOMContentLoaded', function() {
      if (localStorage.getItem('premiumAluno') === 'true') {
        document.getElementById('drawer-amigos').style.display = 'block';
      }
    });
  </script>
  <!-- Drawer de Amigos Premium -->
  <section id="drawer-amigos" style="display:none; position:fixed; left:0; right:0; bottom:0; z-index:30000;">
    <section id="drawer-amigos-content" style="background:#fff; border-radius:16px 16px 0 0; box-shadow:0 -4px 32px #00CFFF33; width:100vw; max-width:430px; margin:0 auto; position:relative; transform:translateY(80%); transition:transform 0.35s cubic-bezier(.4,1.3,.5,1); min-height:70px;">
      <section id="drawer-handle" style="width:100%;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0.5em 0 0.2em 0;">
        <section style="width:48px;height:7px;background:#b2eaff;border-radius:4px;"></section>
      </section>
      <section id="drawer-amigos-area" style="display:none;flex-direction:column;align-items:center;padding:0.7em 1em 1.2em 1em;">
        <input id="amigos-busca" type="text" placeholder="Buscar amigos..." style="width:100%;padding:0.6em 1em;border-radius:12px;border:1.5px solid #00CFFF;margin-bottom:1em;font-size:1em;">
        <section id="amigos-lista" style="width:100%;max-height:230px;overflow-y:auto;display:flex;flex-direction:column;gap:0.7em;"></section>
      </section>
    </section>
    <section id="drawer-overlay" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.12);z-index:29999;"></section>
  </section>
  <script>
    // Mock de amigos online com avatares
    const amigos = [
      { nome: 'Ana', online: true, avatar: '/img/tcc.img/animal1.png' },
      { nome: 'Lucas', online: true, avatar: '/img/tcc.img/animal2.png' },
      { nome: 'Jo√£o', online: false, avatar: '/img/tcc.img/animal3.png' },
      { nome: 'Maria', online: true, avatar: '/img/tcc.img/animal4.png' },
      { nome: 'Clara', online: false, avatar: '/img/tcc.img/animal5.png' },
      { nome: 'Pedro', online: true, avatar: '/img/tcc.img/animal6.png' },
      { nome: 'Julia', online: true, avatar: '/img/tcc.img/animal7.png' },
      { nome: 'Rafa', online: false, avatar: '/img/tcc.img/animal8.png' }
    ];
    const drawer = document.getElementById('drawer-amigos');
    const drawerContent = document.getElementById('drawer-amigos-content');
    const drawerHandle = document.getElementById('drawer-handle');
    const drawerArea = document.getElementById('drawer-amigos-area');
    const drawerOverlay = document.getElementById('drawer-overlay');
    const amigosLista = document.getElementById('amigos-lista');
    const amigosBusca = document.getElementById('amigos-busca');
    let aberto = false;
    function renderAmigos(filtro = '') {
      amigosLista.innerHTML = amigos
        .filter(a => a.nome.toLowerCase().includes(filtro.toLowerCase()))
        .map(a => `
          <section style='display:flex;align-items:center;gap:0.9em;background:#f7fafd;border-radius:16px;padding:0.5em 0.7em;'>
            <img src='${a.avatar}' alt='avatar' style='width:38px;height:38px;border-radius:50%;border:2.5px solid ${a.online ? "#1ec773" : "#bbb"};object-fit:cover;background:#fff;'>
            <span style='font-weight:700;font-size:1.08em;color:#222;'>${a.nome}</span>
            ${a.online ? "<span style='color:#1ec773;font-size:0.97em;margin-left:auto;'>‚óè online</span>" : "<span style='color:#bbb;font-size:0.97em;margin-left:auto;'>offline</span>"}
          </section>
        `)
        .join('') || '<span style="color:#aaa;">Nenhum amigo encontrado</span>';
    }
    if(drawerHandle) {
      drawerHandle.onclick = function() {
        if(!aberto) {
          drawerContent.style.transform = 'translateY(0)';
          drawerArea.style.display = 'flex';
          drawerOverlay.style.display = 'block';
          renderAmigos();
          aberto = true;
        }
      };
    }
    if(drawerOverlay) {
      drawerOverlay.onclick = function() {
        if(aberto) {
          drawerContent.style.transform = 'translateY(80%)';
          drawerArea.style.display = 'none';
          drawerOverlay.style.display = 'none';
          aberto = false;
        }
      };
    }
    if(amigosBusca) {
      amigosBusca.oninput = function() {
        renderAmigos(amigosBusca.value);
      };
    }
  </script>
  <script>
    if (localStorage.getItem('premiumAluno') === 'true') {
      document.body.classList.add('premium-aluno');
    }
  </script>
  <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
      <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
      <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
    </svg>
  </button>
  <section class="top-banner"></section>
  <nav class="sidebar-menu" id="sidebarMenu">
    <section style="width:100%;display:flex;flex-direction:column;align-items:center;padding:0.7em 0 0.2em 0;">
      <section style="background:#fff;border-radius:50%;box-shadow:0 4px 24px #0002,0 0 0 4px #fff;display:flex;align-items:center;justify-content:center;width:142px;height:142px;position:relative;">
        <img src="/img/shared image.png" alt="Logo Pequenos Exploradores" 
          style="width:126px;height:126px;object-fit:contain;display:block;background:none;filter:drop-shadow(0 2px 12px #0001);"
          loading="lazy">
      </section>
      <section style="margin-top:0.3em;text-align:center;width:100%;"></section>
    </section>
    <button class="sidebar-close" onclick="document.getElementById('sidebarMenu').classList.remove('open')">&times;</button>
    <ul>
      <li><a href="/">In√≠cio</a></li>
      <li><a href="/sobre">Sobre</a></li>
      <li><a href="https://www.instagram.com/pequenos_.exploradores_?igsh=MWthZnZ6eG1xeDlxdw==" target="_blank" rel="noopener">Contato</a></li>
      <li><a href="/loja">Loja</a></li>
      <li style="margin:1.2em 0 0 0; padding:0; list-style:none;">
        <form action="/logout" method="POST" style="margin:0; display:flex; justify-content:flex-start; align-items:center;">
          <button type="button" class="btn-logout-sidebar logout-creative" style="margin:0;" onclick="abrirModalLogout()">
            Sair
          </button>
        </form>
      </li>
    </ul>
  </nav>
  <button class="sidebar-toggle" onclick="document.getElementById('sidebarMenu').classList.add('open')" aria-label="Abrir menu lateral" style="background: transparent; border: none; box-shadow: none; position: fixed; top: 0; left: 0.7em; z-index: 11500;">
    <svg width="28" height="28" viewBox="0 0 28 28"><rect y="4" width="28" height="4" rx="2" fill="#fff"/><rect y="12" width="28" height="4" rx="2" fill="#fff"/><rect y="20" width="28" height="4" rx="2" fill="#fff"/></svg>
  </button>
  <section class="ranking-main">
  <section class="cards-topo">
    <section class="ranking-card" id="rankingCard">
      <section class="ranking-btns">
        
      </section>
      <section class="medalhao">
        <section class="medalhao-circulo">
          <span class="medalhao-emoji">ü•â</span>
        </section>
        <span class="medalhao-label">Bronze I</span>
      </section>
      <section class="progress-bar-bg">
        <section class="progress-bar-fill">50/100</section>
      </section>
      <section class="ranking-pontos">
        <span class="fa fa-trophy emoji-trofeu">üèÜ</span> <span class="ranking-pontos-num">15.000</span>
      </section>
    </section>
    <section class="medalhas-trofeu-btn-outer" style="display:flex;flex-direction:row;flex-wrap:nowrap;gap:0.22em;align-items:center;justify-content:center;margin-bottom:0.5em;transform:translateX(60px);">
      <section class="medalhas-trofeu-btn medalhas-trofeu-btn--small" onclick="abrirRankingModal()" title="Ver ranking" style="cursor:pointer;width:28px;height:28px;">
        <span class="medalhao-emoji" style="font-size:1.18em;">üèÜ</span>
      </section>
      <section class="medalhas-trofeu-btn medalhas-trofeu-btn--small" title="Medalha de Ouro" style="cursor:pointer;width:28px;height:28px;" onclick="abrirNivelModal()">
        <span class="medalhao-emoji" style="font-size:1.18em;">ü•á</span>
      </section>
  <!-- removed nested nivelModal (repositioned to body end) -->
  <script>
    function abrirNivelModal() {
      const overlay = document.getElementById('nivelModal');
      const content = document.getElementById('nivelModalContent');
      if (overlay && content) {
        overlay.style.display = 'flex';
        overlay.style.alignItems = 'center';
        overlay.style.justifyContent = 'center';
        // garantir que o conte√∫do nunca ultrapasse a viewport
        content.style.maxHeight = '90vh';
        content.style.overflowY = 'auto';
      } else {
        document.getElementById('nivelModal').style.display = 'flex';
      }
    }
    function fecharNivelModal() {
      const overlay = document.getElementById('nivelModal');
      const content = document.getElementById('nivelModalContent');
      if (overlay) overlay.style.display = 'none';
      if (content) {
        content.style.maxHeight = '';
        content.style.overflowY = '';
      }
    }
  </script>
      <section class="medalhas-trofeu-btn medalhas-trofeu-btn--small" title="Estrela" style="cursor:pointer;width:28px;height:28px;">
        <span class="medalhao-emoji" style="font-size:1.18em;">‚≠ê</span>
      </section>
    </section>
  <section class="medalhas-card" style="transform:translateX(-40px);">
      <section class="medalhas-title">
       
        <span class="medalhas-title-text">Medalhas</span>
      </section>
      <section class="medalhas-list">
        <section class="medalha">
          <span class="medalha-icone">ü•â</span>
          <span class="medalha-label">Bronze I</span>
        </section>
        <section class="medalha">
          <span class="medalha-icone bloqueada">ü•â<span class="medalha-cadeado">üîí</span></span>
          <span class="medalha-label">Bronze II</span>
        </section>
        <section class="medalha">
          <span class="medalha-icone bloqueada">ü•â<span class="medalha-cadeado">üîí</span></span>
          <span class="medalha-label">Bronze III</span>
        </section>
        <section class="medalha">
          
        </section>
      </section>
    </section>
  </section>
  <img src="/img/tcc.img/perfil/anuncio.png" alt="An√∫ncio" class="anuncio-img" style="display:block; margin:2.5em auto 5.5em auto; max-width:320px; width:90vw; border-radius:18px; box-shadow:0 2px 12px #0003;">
  <footer style="background: #3bb273; color: #fff; position: fixed; left: 0; bottom: 0; width: 100vw; text-align: center; z-index: 9999;">
    <p>&copy; 2025 Pequenos Exploradores</p>
  </footer>
  <!-- Modal de confirma√ß√£o de logout -->
  <secton id="modal-logout" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.45); z-index:20000; align-items:center; justify-content:center;">
    <section style="background:linear-gradient(120deg,#fff 80%,#e0f7fa 100%); border-radius:28px; box-shadow:0 8px 32px #00CFFF44; padding:2.2em 2em 1.7em 2em; max-width:340px; width:90vw; text-align:center; position:relative; animation:fadeInUp 0.4s;">
      <h2 style="color:#0076CA; font-family:'Fredoka','Baloo 2',cursive; font-size:1.25em; font-weight:900; margin-bottom:1.2em;">Deseja mesmo sair?</h2>
      <p style="color:#1ec773; font-size:1.08em; font-weight:700; margin-bottom:1.7em;">Voc√™ ser√° desconectado da sua conta.</p>
      <section style="display:flex; gap:1.2em; justify-content:center;">
        <button onclick="confirmarLogout()" style="background:linear-gradient(90deg,#00CFFF 0%,#1ec773 100%); color:#fff; font-weight:900; border:none; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 12px #00CFFF33; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">Sim</button>
        <button onclick="fecharModalLogout()" style="background:#fff; color:#0076CA; font-weight:900; border:2px solid #00CFFF; border-radius:16px; padding:0.7em 2.2em; font-size:1.08em; box-shadow:0 2px 8px #00CFFF22; cursor:pointer; letter-spacing:0.04em; transition:background 0.18s,transform 0.18s; text-transform:uppercase;">N√£o</button>
      </section>
      <button onclick="fecharModalLogout()" style="position:absolute; top:0.7em; right:1em; background:none; border:none; font-size:2em; color:#00CFFF; cursor:pointer;">&times;</button>
    </section>
  </section>
    <!-- medalhas-card e anuncio removidos do topo -->
  </section>

  <!-- Modal de Ranking -->
  <section id="rankingModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.65); z-index:20000; align-items:center; justify-content:center;">
  <section class="ranking-modal-content" id="rankingModalContent">
      <button onclick="fecharRankingModal()" aria-label="Fechar ranking" class="ranking-modal-close">&times;</button>
  <h3 class="ranking-modal-title" style="color:#fff !important;">Top 10</h3>
      <ul class="ranking-modal-list">
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">1¬∫</span>
          <img src="/img/tcc.img/animal1.png" alt="Avatar de Ana" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Ana</span>
          <span class="ranking-modal-pontos">15000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">2¬∫</span>
          <img src="/img/tcc.img/animal2.png" alt="Avatar de Lucas" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Lucas</span>
          <span class="ranking-modal-pontos">12000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">3¬∫</span>
          <img src="/img/tcc.img/animal3.png" alt="Avatar de Jo√£o" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Jo√£o</span>
          <span class="ranking-modal-pontos">10000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">4¬∫</span>
          <img src="/img/tcc.img/animal4.png" alt="Avatar de Maria" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Maria</span>
          <span class="ranking-modal-pontos">8000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">5¬∫</span>
          <img src="/img/tcc.img/animal5.png" alt="Avatar de Pedro" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Pedro</span>
          <span class="ranking-modal-pontos">6000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">6¬∫</span>
          <img src="/img/tcc.img/animal6.png" alt="Avatar de Clara" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Clara</span>
          <span class="ranking-modal-pontos">5500</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">7¬∫</span>
          <img src="/img/tcc.img/animal7.png" alt="Avatar de Felipe" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Felipe</span>
          <span class="ranking-modal-pontos">5000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">8¬∫</span>
          <img src="/img/tcc.img/animal8.png" alt="Avatar de Gabriela" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Gabriela</span>
          <span class="ranking-modal-pontos">4500</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">9¬∫</span>
          <img src="/img/tcc.img/animal1.png" alt="Avatar de Rafaela" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Rafaela</span>
          <span class="ranking-modal-pontos">4000</span>
        </li>
        <li class="ranking-modal-item">
          <span class="ranking-modal-pos">10¬∫</span>
          <img src="/img/tcc.img/animal2.png" alt="Avatar de Bruno" class="ranking-modal-avatar">
          <span class="ranking-modal-nome">Bruno</span>
          <span class="ranking-modal-pontos">900</span>
        </li>
      </ul>
    </section>
  </section>

  <script>
    function abrirRankingModal() {
      document.getElementById('rankingModal').style.display = 'flex';
      // cor do modal
      var content = document.getElementById('rankingModalContent');
      if (localStorage.getItem('premiumAluno') === 'true') {
        content.style.background = '#7c3aed'; // roxo premium
        content.style.color = '#fff';
      } else {
        content.style.background = '#1ec773'; // verde padr√£o
        content.style.color = '#fff';
      }
    }
    function fecharRankingModal() {
      document.getElementById('rankingModal').style.display = 'none';
    }
    function abrirModalLogout() {
      var modal = document.getElementById('modal-logout');
      if(modal) modal.style.display = 'flex';
    }
    function fecharModalLogout() {
      var modal = document.getElementById('modal-logout');
      if(modal) modal.style.display = 'none';
    }
    function confirmarLogout() {
      fetch('/logout', { method: 'POST' })
        .then(() => { window.location.href = '/'; })
        .catch(() => { window.location.href = '/'; });
    }
  </script>
</body>
</html>
<!-- Nivel Modal (centralizado, √∫nico) -->
<section id="nivelModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.75); z-index:30000; display:flex; align-items:center; justify-content:center;" onclick="fecharNivelModal()">
  <section id="nivelModalContent" style="background:#fff; border-radius:24px; box-shadow:0 12px 48px #0009; padding:3em 2.4em; width:clamp(360px,92vw,720px); text-align:center; position:relative; max-height:92vh; overflow:auto;" onclick="event.stopPropagation()">
    <button onclick="fecharNivelModal()" aria-label="Fechar" style="position:absolute; top:0.8em; right:1.2em; background:none; border:none; font-size:2.4em; color:#00CFFF; cursor:pointer;">&times;</button>
    <h3 style="font-family:'Fredoka','Baloo 2',cursive; color:#e6b800; font-size:1.6em; font-weight:900; margin-bottom:1.4em;">Seu Progresso de N√≠vel</h3>
    <section style="display:flex;align-items:center;justify-content:flex-start;gap:0.6em;flex-wrap:wrap;margin-bottom:1em;">
      <span style="font-size:1.15em;font-weight:800;color:#b97a1a;">ü•â Bronze I</span>
      <span style="font-size:1.15em;font-weight:800;color:#b97a1a;">ü•â Bronze II</span>
      <span style="font-size:1.15em;font-weight:800;color:#b97a1a;">ü•â Bronze III</span>
      <span style="font-size:1.15em;font-weight:800;color:#aaa;">ü•à Prata I</span>
    </section>
    <section style="background:#eee;border-radius:1.2em;height:20px;width:100%;margin-bottom:1.4em;overflow:hidden;">
      <section id="nivelBarra" style="background:linear-gradient(90deg,#e6b800 60%,#b97a1a 100%);height:100%;width:40%;transition:width 0.4s;"></section>
    </section>
    <span style="font-size:1.12em;font-weight:800;color:#e6b800;">N√≠vel atual: Bronze II</span>
  </section>
</section>
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ranking - Pequenos Exploradores</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&family=Fredoka:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/btn-voltar.css">
  <link rel="stylesheet" href="/css/aluno.css">
  <link rel="stylesheet" href="/css/premium-aluno.css">
  <link rel="stylesheet" href="/css/index.css">
</head>
<body>
  <script>
    if (localStorage.getItem('premiumAluno') === 'true') {
      document.body.classList.add('premium-aluno');
    }
  </script>
  <button class="btn-voltar" onclick="window.history.back()" aria-label="Voltar" style="z-index: 11000; position: fixed; top: 0.5em; right: 0.5em; left: auto;">
    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 2px 10px #00CFFF88);">
      <circle cx="30" cy="30" r="27" fill="#00CFFF"/>
      <path d="M38 30c0 1.2-1 2.2-2.2 2.2H26.5l3.2 3.2c0.8 0.8 0.8 2.2 0 3-0.8 0.8-2.2 0.8-3 0l-7-7c-0.8-0.8-0.8-2.2 0-3l7-7c0.8-0.8 2.2-0.8 3 0 0.8 0.8 0.8 2.2 0 3l-3.2 3.2h9.3c1.2 0 2.2 1 2.2 2.2z" fill="#00518C"/>
    </svg>
  </button>
  <section class="top-banner"></section>
  <html lang="pt-BR">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking - Pequenos Exploradores</title>
  <link rel="stylesheet" href="/css/ranking.css">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">
  </head>
  <body style="background:#181c24; margin:0; font-family:'Baloo 2',cursive;">
    <section class="ranking-main">
      <section class="ranking-top">
        
      
  <!-- Card de medalhas duplicado removido -->
    </section>

    <!-- Modal de Ranking -->
    <section id="rankingModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.65); z-index:20000; align-items:center; justify-content:center;">
      <section class="ranking-modal-content">
        <button onclick="fecharRankingModal()" aria-label="Fechar ranking" class="ranking-modal-close">&times;</button>
    <h3 class="ranking-modal-title" style="color:#fff !important;">Top 10</h3>
        <ul class="ranking-modal-list">
          <!-- Lista do ranking j√° est√° abaixo, removido bloco EJS quebrado -->
                <section class="progress-bar-bg">
                  <section class="progress-bar-fill">50/100</section>
                </section>
                <section class="ranking-pontos">
                  <span class="fa fa-trophy emoji-trofeu">üèÜ</span> <span class="ranking-pontos-num">15.000</span>
                </section>
              </section>
              <section class="medalhas-card">
                <section class="medalhas-title">
                  
                  <span class="medalhas-title-text">Medalhas</span>
                </section>
                <section class="medalhas-list">
                  <section class="medalha">
                    <span class="medalha-icone">ü•â</span>
                    <span class="medalha-label">Bronze I</span>
                  </section>
                  <section class="medalha">
                    <span class="medalha-icone bloqueada">ü•â<span class="medalha-cadeado">üîí</span></span>
                    <span class="medalha-label">Bronze II</span>
                  </section>
                  <section class="medalha">
                    <span class="medalha-icone bloqueada">ü•â<span class="medalha-cadeado">üîí</span></span>
                    <span class="medalha-label">Bronze III</span>
                  </section>
                  <section class="medalha">
                    
                  </section>
                </section>
              </section>
            </section>
    
<style>
.cards-topo {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 12px;
}
.cards-topo .ranking-card,
.cards-topo .medalhas-card {
  flex: 1 1 0;
  min-width: 0;
  max-width: 50vw;
  box-sizing: border-box;
}
.cards-topo .ranking-card {
  padding: 10px 6px 14px 6px;
  max-width: 200px;
}
.cards-topo .medalhas-card {
  padding: 10px 6px 10px 6px;
  max-width: 170px;
}
@media (max-width: 480px) {
  .cards-topo {
    gap: 4px;
  }
  .cards-topo .ranking-card {
    max-width: 48vw;
    padding: 7px 2px 10px 2px;
  }
  .cards-topo .medalhas-card {
    max-width: 48vw;
    padding: 7px 2px 7px 2px;
  }
}
</style>

</script>


